<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>

<plugin>
  <extension point="org.eclipse.wst.server.core.runtimeTypes">
    <runtimeType
          class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMixRuntimeDelegate"
          description="%runtimeTypeServiceMixDescription_45"
          id="org.fusesource.ide.servicemix.runtime.45"
          name="%runtimeTypeServiceMixLabel_45"
          vendor="%fusesource"
          vendorId="%fusesource"
          version="4.5">
       <moduleType types="fuse.camel" versions="1.0"></moduleType>
       <moduleType types="jst.utility" versions="1.0"></moduleType>
       <moduleType types="jboss.osgi" versions="1.0"></moduleType>
    </runtimeType>
    <runtimeType
          class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMixRuntimeDelegate"
          description="%runtimeTypeServiceMixDescription_50"
          id="org.fusesource.ide.servicemix.runtime.50"
          name="%runtimeTypeServiceMixLabel_50"
          vendor="%fusesource"
          vendorId="%fusesource"
          version="5.0">
       <moduleType types="fuse.camel" versions="1.0"></moduleType>
       <moduleType types="jst.utility" versions="1.0"></moduleType>
       <moduleType types="jboss.osgi" versions="1.0"></moduleType>
    </runtimeType>
    <runtimeType
          class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMixRuntimeDelegate"
          description="%runtimeTypeServiceMixDescription_51"
          id="org.fusesource.ide.servicemix.runtime.51"
          name="%runtimeTypeServiceMixLabel_51"
          vendor="%fusesource"
          vendorId="%fusesource"
          version="5.1">
       <moduleType types="fuse.camel" versions="1.0"></moduleType>
       <moduleType types="jst.utility" versions="1.0"></moduleType>
       <moduleType types="jboss.osgi" versions="1.0"></moduleType>
    </runtimeType>
    <runtimeType
          class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMixRuntimeDelegate"
          description="%runtimeTypeServiceMixDescription_52"
          id="org.fusesource.ide.servicemix.runtime.52"
          name="%runtimeTypeServiceMixLabel_52"
          vendor="%fusesource"
          vendorId="%fusesource"
          version="5.2">
       <moduleType types="fuse.camel" versions="1.0"></moduleType>
       <moduleType types="jst.utility" versions="1.0"></moduleType>
       <moduleType types="jboss.osgi" versions="1.0"></moduleType>
    </runtimeType>
    <runtimeType
          class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMixRuntimeDelegate"
          description="%runtimeTypeServiceMixDescription_53"
          id="org.fusesource.ide.servicemix.runtime.53"
          name="%runtimeTypeServiceMixLabel_53"
          vendor="%fusesource"
          vendorId="%fusesource"
          version="5.3">
       <moduleType types="fuse.camel" versions="1.0"></moduleType>
       <moduleType types="jst.utility" versions="1.0"></moduleType>
       <moduleType types="jboss.osgi" versions="1.0"></moduleType>
    </runtimeType>
    <runtimeType
          class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMixRuntimeDelegate"
          description="%runtimeTypeServiceMixDescription_54"
          id="org.fusesource.ide.servicemix.runtime.54"
          name="%runtimeTypeServiceMixLabel_54"
          vendor="%fusesource"
          vendorId="%fusesource"
          version="5.4">
       <moduleType types="fuse.camel" versions="1.0"></moduleType>
       <moduleType types="jst.utility" versions="1.0"></moduleType>
       <moduleType types="jboss.osgi" versions="1.0"></moduleType>
    </runtimeType>
  </extension>

  <extension point="org.eclipse.wst.server.core.serverTypes">
     <serverType
           behaviourClass="org.fusesource.ide.server.karaf.core.server.ControllableKarafServerBehavior"
           class="org.fusesource.ide.server.servicemix.core.server.ServiceMixServerDelegate"
           description="%serviceMixServerDescription_45"
           hasConfiguration="false"
           id="org.fusesource.ide.servicemix.server.45"
           initialState="stopped"
           launchModes="run,debug"
           launchConfigId="org.fusesource.ide.server.servicemix4x.launch"
           name="%serviceMixServerType_45"
           runtime="true"
           runtimeTypeId="org.fusesource.ide.servicemix.runtime.45"
           startTimeout="90000"
           stopTimeout="45000"
           startBeforePublish="false" 
           supportsRemoteHosts="false">
     </serverType>
     <serverType
           behaviourClass="org.fusesource.ide.server.karaf.core.server.ControllableKarafServerBehavior"
           class="org.fusesource.ide.server.servicemix.core.server.ServiceMix5xServerDelegate"
           description="%serviceMixServerDescription_50"
           hasConfiguration="false"
           id="org.fusesource.ide.servicemix.server.50"
           initialState="stopped"
           launchConfigId="org.fusesource.ide.server.servicemix4x.launch"
           launchModes="run,debug"
           name="%serviceMixServerType_50"
           runtime="true"
           runtimeTypeId="org.fusesource.ide.servicemix.runtime.50"
           startTimeout="90000"
           stopTimeout="45000"
           startBeforePublish="false" 
           supportsRemoteHosts="false">
     </serverType>
     <serverType
           behaviourClass="org.fusesource.ide.server.karaf.core.server.ControllableKarafServerBehavior"
           class="org.fusesource.ide.server.servicemix.core.server.ServiceMix5xServerDelegate"
           description="%serviceMixServerDescription_51"
           hasConfiguration="false"
           id="org.fusesource.ide.servicemix.server.51"
           initialState="stopped"
           launchConfigId="org.fusesource.ide.server.servicemix4x.launch"
           launchModes="run,debug"
           name="%serviceMixServerType_51"
           runtime="true"
           runtimeTypeId="org.fusesource.ide.servicemix.runtime.51"
           startTimeout="90000"
           stopTimeout="45000"
           startBeforePublish="false" 
           supportsRemoteHosts="false">
     </serverType>
     <serverType
           behaviourClass="org.fusesource.ide.server.karaf.core.server.ControllableKarafServerBehavior"
           class="org.fusesource.ide.server.servicemix.core.server.ServiceMix5xServerDelegate"
           description="%serviceMixServerDescription_52"
           hasConfiguration="false"
           id="org.fusesource.ide.servicemix.server.52"
           initialState="stopped"
           launchConfigId="org.fusesource.ide.server.servicemix4x.launch"
           launchModes="run,debug"
           name="%serviceMixServerType_52"
           runtime="true"
           runtimeTypeId="org.fusesource.ide.servicemix.runtime.52"
           startTimeout="90000"
           stopTimeout="45000"
           startBeforePublish="false" 
           supportsRemoteHosts="false">
     </serverType>
     <serverType
           behaviourClass="org.fusesource.ide.server.karaf.core.server.ControllableKarafServerBehavior"
           class="org.fusesource.ide.server.servicemix.core.server.ServiceMix5xServerDelegate"
           description="%serviceMixServerDescription_53"
           hasConfiguration="false"
           id="org.fusesource.ide.servicemix.server.53"
           initialState="stopped"
           launchConfigId="org.fusesource.ide.server.servicemix4x.launch"
           launchModes="run,debug"
           name="%serviceMixServerType_53"
           runtime="true"
           runtimeTypeId="org.fusesource.ide.servicemix.runtime.53"
           startTimeout="90000"
           stopTimeout="45000"
           startBeforePublish="false" 
           supportsRemoteHosts="false">
     </serverType>
     <serverType
           behaviourClass="org.fusesource.ide.server.karaf.core.server.ControllableKarafServerBehavior"
           class="org.fusesource.ide.server.servicemix.core.server.ServiceMix5xServerDelegate"
           description="%serviceMixServerDescription_54"
           hasConfiguration="false"
           id="org.fusesource.ide.servicemix.server.54"
           initialState="stopped"
           launchConfigId="org.fusesource.ide.server.servicemix4x.launch"
           launchModes="run,debug"
           name="%serviceMixServerType_54"
           runtime="true"
           runtimeTypeId="org.fusesource.ide.servicemix.runtime.54"
           startTimeout="90000"
           stopTimeout="45000"
           startBeforePublish="false" 
           supportsRemoteHosts="false">
     </serverType>
  </extension>

  <extension point="org.eclipse.wst.server.core.runtimeLocators">
    <runtimeLocator
       id="org.fusesource.ide.server.servicemix.runtime.locator"
       typeIds="org.fusesource.ide.servicemix.runtime.*"
       class="org.fusesource.ide.server.servicemix.core.runtime.ServiceMix4xRuntimeLocator"/>
  </extension>

  <extension point="org.eclipse.wst.server.core.serverLocators">
    <serverLocator
       id="org.fusesource.ide.server.servicemix.server.locator"
       supportsRemoteHosts="false"
       typeIds="org.fusesource.ide.servicemix.server.*"
       class="org.fusesource.ide.server.servicemix.core.server.ServiceMixServerLocator"/>
  </extension>

  <!-- new stuff -->
  <extension
        point="org.eclipse.debug.core.launchConfigurationTypes">
     <launchConfigurationType
           category="JBoss Fuse"
           delegate="org.jboss.ide.eclipse.as.wtp.core.server.launch.ControllableServerLaunchConfiguration"
           id="org.fusesource.ide.server.servicemix4x.launch"
           modes="run,debug"
           name="%servicemix.launch.name"
           public="true"
	   sourceLocatorId="org.fusesource.ide.server.karaf.core.server.sourceLocator"
	   sourcePathComputerId="org.fusesource.ide.server.karaf.core.server.sourcePathComputerDelegate">
     </launchConfigurationType>
  </extension>
  
  <extension
        point="org.jboss.ide.eclipse.as.wtp.core.serverBeanTypeProvider">
     <serverBeanTypeProvider
           class="org.fusesource.ide.server.servicemix.core.bean.ServiceMixBeanProvider"
           weight="5">
     </serverBeanTypeProvider>
  </extension>
  <extension
        point="org.jboss.tools.runtime.core.downloadRuntimeProvider">
     <provider
           class="org.fusesource.ide.server.servicemix.core.runtime.integration.ServiceMixDownloadRuntimesProvider">
     </provider>
  </extension>
  <extension
        point="org.jboss.tools.runtime.core.runtimeDetectors">
     <runtimeDetector
           class="org.fusesource.ide.server.servicemix.core.runtime.integration.ServiceMixRuntimeDetector"
           enabled="true"
           id="org.fusesource.ide.server.servicemix.core.runtime.integration.ServiceMixRuntimeDetection"
           name="Apache ServiceMix">
     </runtimeDetector>
  </extension>
  
  <extension
         point="org.jboss.ide.eclipse.as.wtp.core.serverSubsystem">
         <subsystemMapping
            id="launch.karaf.local.default"
            mappedId="launch.smx.local"
            serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
         </subsystemMapping>
         
         <subsystemMapping
            id="shutdown.karaf.local.default"
            mappedId="shutdown.servicemix.local"
            serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
         </subsystemMapping>
         
         <subsystemMapping
            id="publish.karaf.local.default"
            mappedId="publish.smx.local"
            serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
         </subsystemMapping>
         
         <subsystemMapping
            id="modules.karaf.local.default"
            mappedId="modules.smx.local"
            serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
         </subsystemMapping>
         
         <subsystemMapping
            id="port.karaf.local.default"
            mappedId="port.servicemix.local"
            serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
         </subsystemMapping>
         
      <!-- Publisher Controllers for specific module types. This one will not be mapped, and will be global  -->
      <subsystemMapping
            id="publishDelegate.fuse.default"
            mappedId="publishDelegate.fuse.default"
            serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
      </subsystemMapping>
      <!-- osgi assembler mapping -->
      <subsystemMapping
            id="publishDelegate.osgi.default"
            mappedId="publishDelegate.osgi.default"
			serverTypes="org.fusesource.ide.servicemix.server.45,org.fusesource.ide.servicemix.server.50,org.fusesource.ide.servicemix.server.51,org.fusesource.ide.servicemix.server.52,org.fusesource.ide.servicemix.server.53,org.fusesource.ide.servicemix.server.54">
      </subsystemMapping>
  </extension>
  
  
  
  <!-- Runtime facets -->
   <extension
         point="org.eclipse.jst.server.core.runtimeFacetMappings">
      <runtimeFacetMapping
            runtimeTypeId="org.fusesource.ide.servicemix.runtime.45"
            runtime-component="org.fusesource.ide.servicemix.runtime.component"
            version="4.5"/>
      <runtimeFacetMapping
            runtimeTypeId="org.fusesource.ide.servicemix.runtime.50"
            runtime-component="org.fusesource.ide.servicemix.runtime.component"
            version="5.0"/>
      <runtimeFacetMapping
            runtimeTypeId="org.fusesource.ide.servicemix.runtime.51"
            runtime-component="org.fusesource.ide.servicemix.runtime.component"
            version="5.1"/>
      <runtimeFacetMapping
            runtimeTypeId="org.fusesource.ide.servicemix.runtime.52"
            runtime-component="org.fusesource.ide.servicemix.runtime.component"
            version="5.2"/>
      <runtimeFacetMapping
            runtimeTypeId="org.fusesource.ide.servicemix.runtime.53"
            runtime-component="org.fusesource.ide.servicemix.runtime.component"
            version="5.3"/>
      <runtimeFacetMapping
            runtimeTypeId="org.fusesource.ide.servicemix.runtime.54"
            runtime-component="org.fusesource.ide.servicemix.runtime.component"
            version="5.4"/>
  </extension>
  
  
    <extension
         point="org.eclipse.wst.common.project.facet.core.runtimes">
      		<runtime-component-type id="org.fusesource.ide.servicemix.runtime.component"/>
      		<runtime-component-version type="org.fusesource.ide.servicemix.runtime.component" version="4.5"/>
      		<runtime-component-version type="org.fusesource.ide.servicemix.runtime.component" version="5.0"/>
      		<runtime-component-version type="org.fusesource.ide.servicemix.runtime.component" version="5.1"/>
      		<runtime-component-version type="org.fusesource.ide.servicemix.runtime.component" version="5.2"/>
      		<runtime-component-version type="org.fusesource.ide.servicemix.runtime.component" version="5.3"/>
      		<runtime-component-version type="org.fusesource.ide.servicemix.runtime.component" version="5.4"/>
   			<supported>
        		<runtime-component
         			id="org.fusesource.ide.servicemix.runtime.component"
         			version="4.5"/>
                <facet id="wst.web"  version="1.0,1.2,1.3,1.4"/>
       			<facet id="jst.web"  version="2.2,2.3,2.4,2.5,3.0"/>
       			<facet id="jst.java" version="1.3,1.4,5.0,6.0,1.7,1.8"/>
       			<facet id="jst.utility" version="1.0"/>
       			<facet id="jst.camel" version="2.15"/>
     		</supported>
   			<supported>
        		<runtime-component
         			id="org.fusesource.ide.servicemix.runtime.component"
         			version="5.0"/>
                <facet id="wst.web"  version="1.0,1.2,1.3,1.4"/>
       			<facet id="jst.web"  version="2.2,2.3,2.4,2.5,3.0"/>
       			<facet id="jst.java" version="1.3,1.4,5.0,6.0,1.7,1.8"/>
       			<facet id="jst.utility" version="1.0"/>
       			<facet id="jst.camel" version="2.15"/>
     		</supported>
   			<supported>
        		<runtime-component
         			id="org.fusesource.ide.servicemix.runtime.component"
         			version="5.1"/>
                <facet id="wst.web"  version="1.0,1.2,1.3,1.4"/>
       			<facet id="jst.web"  version="2.2,2.3,2.4,2.5,3.0"/>
       			<facet id="jst.java" version="1.3,1.4,5.0,6.0,1.7,1.8"/>
       			<facet id="jst.utility" version="1.0"/>
       			<facet id="jst.camel" version="2.15"/>
     		</supported>
   			<supported>
        		<runtime-component
         			id="org.fusesource.ide.servicemix.runtime.component"
         			version="5.2"/>
                <facet id="wst.web"  version="1.0,1.2,1.3,1.4"/>
       			<facet id="jst.web"  version="2.2,2.3,2.4,2.5,3.0"/>
       			<facet id="jst.java" version="1.3,1.4,5.0,6.0,1.7,1.8"/>
       			<facet id="jst.utility" version="1.0"/>
       			<facet id="jst.camel" version="2.15"/>
     		</supported>
   			<supported>
        		<runtime-component
         			id="org.fusesource.ide.servicemix.runtime.component"
         			version="5.3"/>
                <facet id="wst.web"  version="1.0,1.2,1.3,1.4"/>
       			<facet id="jst.web"  version="2.2,2.3,2.4,2.5,3.0"/>
       			<facet id="jst.java" version="1.3,1.4,5.0,6.0,1.7,1.8"/>
       			<facet id="jst.utility" version="1.0"/>
       			<facet id="jst.camel" version="2.15"/>
     		</supported>
   			<supported>
        		<runtime-component
         			id="org.fusesource.ide.servicemix.runtime.component"
         			version="5.4"/>
                <facet id="wst.web"  version="1.0,1.2,1.3,1.4"/>
       			<facet id="jst.web"  version="2.2,2.3,2.4,2.5,3.0"/>
       			<facet id="jst.java" version="1.3,1.4,5.0,6.0,1.7,1.8"/>
       			<facet id="jst.utility" version="1.0"/>
       			<facet id="jst.camel" version="2.15"/>
     		</supported>
   </extension>  
   
   <extension
         point="org.eclipse.wst.common.project.facet.core.runtimes">
     <adapter>
      <runtime-component id="org.fusesource.ide.servicemix.runtime.component" version="4.5"/>
      <factory class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafClasspathProviderAdapterFactory"/>
      <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
	</adapter>
     <adapter>
      <runtime-component id="org.fusesource.ide.servicemix.runtime.component" version="5.0"/>
      <factory class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafClasspathProviderAdapterFactory"/>
      <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
	</adapter>
     <adapter>
      <runtime-component id="org.fusesource.ide.servicemix.runtime.component" version="5.1"/>
      <factory class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafClasspathProviderAdapterFactory"/>
      <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
	</adapter>
     <adapter>
      <runtime-component id="org.fusesource.ide.servicemix.runtime.component" version="5.2"/>
      <factory class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafClasspathProviderAdapterFactory"/>
      <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
	</adapter>
     <adapter>
      <runtime-component id="org.fusesource.ide.servicemix.runtime.component" version="5.3"/>
      <factory class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafClasspathProviderAdapterFactory"/>
      <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
	</adapter>
     <adapter>
      <runtime-component id="org.fusesource.ide.servicemix.runtime.component" version="5.4"/>
      <factory class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafClasspathProviderAdapterFactory"/>
      <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
	</adapter>
   </extension>
   
   
  <!-- 		NEW_SERVER_ADAPTER add id for new runtime in the runtimeIds field below -->
   <extension point="org.eclipse.jst.server.core.runtimeClasspathProviders">
     <runtimeClasspathProvider
        id="org.fusesource.ide.server.servicemix.core.runtime.classpath.runtimeTarget"
        runtimeTypeIds="org.fusesource.ide.servicemix.runtime.45,org.fusesource.ide.servicemix.runtime.50,org.fusesource.ide.servicemix.runtime.51,org.fusesource.ide.servicemix.runtime.52,org.fusesource.ide.servicemix.runtime.53,org.fusesource.ide.servicemix.runtime.54"
        class="org.fusesource.ide.server.karaf.core.runtime.classpath.KarafProjectRuntimeClasspathProvider"/>
   </extension>
  
</plugin>
